<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ä»Šå¤©çš„5å€‹ç”Ÿå­— ğŸ’™</title>

<style>
:root{
  --bg1:#eef6ff;
  --bg2:#f8fbff;
  --card:#ffffff;
  --main:#3b82f6;
  --soft:#bfdbfe;
  --ok:#22c55e;
}
body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(180deg,var(--bg1),var(--bg2));
  font-family:"Noto Sans TC","Microsoft JhengHei",system-ui,sans-serif;
}
header{
  background:#ffffff;
  padding:14px;
  text-align:center;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
}
h1{
  margin:0;
  font-size:28px;
  font-weight:900;
}
.sub{
  margin-top:4px;
  font-size:15px;
  color:#555;
}
.progress-wrap{
  margin-top:10px;
  display:flex;
  align-items:center;
  gap:10px;
}
.progress{
  flex:1;
  height:14px;
  background:#e5efff;
  border-radius:99px;
  overflow:hidden;
}
.progress div{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#60a5fa,#3b82f6);
  transition:width .3s;
}
.wrap{
  max-width:520px;
  margin:0 auto;
  padding:20px 16px 40px;
}
.card{
  background:var(--card);
  border-radius:28px;
  padding:22px;
  box-shadow:0 14px 28px rgba(0,0,0,.12);
  text-align:center;
}
.nav{
  display:flex;
  justify-content:space-between;
  margin-bottom:10px;
}
.nav button{
  background:#dbeafe;
  border:none;
  padding:8px 14px;
  border-radius:999px;
  font-size:18px;
  font-weight:900;
  cursor:pointer;
}
.day{
  font-size:22px;
  font-weight:900;
  color:var(--main);
}
.animal{
  font-size:64px;
  margin:8px 0;
}
.tip{
  font-size:15px;
  color:#555;
}
.chars{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:16px;
  margin:18px 0;
}
.char{
  font-size:46px;
  font-weight:900;
  padding:18px 22px;
  border-radius:22px;
  background:linear-gradient(180deg,#ffffff,#eff6ff);
  border:3px solid var(--soft);
  letter-spacing:6px;
}
.finish label{
  display:inline-flex;
  align-items:center;
  gap:10px;
  font-size:22px;
  font-weight:900;
}
input[type="checkbox"]{
  width:32px;
  height:32px;
  accent-color:var(--ok);
}
.confetti{
  position:fixed;
  inset:0;
  pointer-events:none;
}
.confetti span{
  position:absolute;
  top:-20px;
  font-size:22px;
  animation:fall 1.6s linear forwards;
}
@keyframes fall{
  to{ transform:translateY(110vh) rotate(360deg); opacity:0; }
}
footer{
  text-align:center;
  color:#666;
  font-size:14px;
  margin-top:16px;
}
</style>
</head>

<body>
<header>
  <h1>ğŸ’™ ä»Šå¤©çš„ 5 å€‹ç”Ÿå­—</h1>
  <div class="sub" id="progressText"></div>
  <div class="progress-wrap">
    <div class="progress"><div id="bar"></div></div>
  </div>
</header>

<div class="wrap">
  <div class="card">
    <div class="nav">
      <button onclick="prevDay()">â—€</button>
      <button onclick="nextDay()">â–¶</button>
    </div>

    <div class="day" id="dayText"></div>
    <div class="animal" id="animal"></div>
    <div class="tip">æ…¢æ…¢å¯«ï¼Œå¯«æ¼‚äº®å°±å¥½ âœï¸</div>

    <div class="chars" id="chars"></div>

    <div class="finish">
      <label>
        <input type="checkbox" id="doneBox">
        ä»Šå¤©å®Œæˆäº†ï¼
      </label>
    </div>
  </div>

  <footer>ğŸŒŸ å¯« 3 è¡Œä¹Ÿç®—å®Œæˆ ğŸŒŸ</footer>
</div>

<div class="confetti" id="confetti"></div>

<script>
const animals = ["ğŸ°","ğŸ»","ğŸ±"];

const days = [
["æ—…","è¡Œ","å¦™","å…¬","åœ’"],["é‡","å°–","æ­","å£«","è²“"],["è»Š","æ¢","éšª","é»‘","å‚˜"],
["å¹","ä¸–","ç•Œ","ç¬¬","ç²¾"],["æ»´","è¿·","æ»‘","åœˆ","æ˜"],["ç”©","ä¸Ÿ","æ‰","æµ","æµª"],
["æ•‘","è¦º","æ¤","æ¯","æ¸´"],["æ­»","è½","æ¹–","è¿","å–œ"],["å¸Œ","æœ›","æŸ”","ç¶“","ç"],
["ç ","å…¥","å ´","é›¨","æ¼ "],["å¼","é","å£¯","è§€","è¾²"],["å¤«","ç¨»","å–","é£½","èš¯"],
["èš“","æ‰­","å°¾","æ·¹","æ³¥"],["èŒ","èšª","åŠª","å¡˜","çˆº"],["æ","æ¥š","è² ","è²¬","æ”¶"],
["æ¼¸","é›–","æ›","å·¥","ç¾"],["ç¸½","è¦ª","åˆ‡","æ–¼","å¯Ÿ"],["æ³•","æ–¹","åˆ©","åˆ","æ”¹"],
["å¾","è‡º","å¤ ","æ˜¨","çƒ"],["æ§","è…¹","å‘Š","è¨´","æ•´"],["å»","æ‰€","è¸¢","è¶³","æ¯”"],
["ä¿¡","è®“","ç¥","ç”·","å­©"],["éœ","æ™¨","å‚³","é›","åµ"],["é›œ","å¥³","çª©","å•„","æ¯"],
["æ±‚","åŠ©","é›¢","äº›","å‡¡"],["è¿ª","ç´„","æ­²","ç‡ˆ","å·²"],["é›»","è³£","è²´","è²·","æ–™"],
["ç‡’","åŠŸ","çµ²","å¤±","æ•—"],["çµ‚","é€ ","æŒ","å®œ","èª¿"],["ç›¤","é…","è—","ç´™","é¡"],
["é­”","è™¹","å¹¾","æ¶ˆ","é›£"],["å‘µ","å°‡","æ©™","æ£’","ç¥"],["é´¨","å…¶","ç‰¹","å¡Š","é‡"],
["ç¢°","ç ´","ç¢—","ç…©","é›ª"],["é¤“","ç¸®","å­¤","å–®","æ·š"],["æ‚„","ç¾½","ä¼´","èœ˜","è››"],
["é´¿","è£‚","ç—•","æ‹œ","è¨—"],["å¯¶","è²","è™•","ä»¶","è£œ"],["å…§","çŸ³","ç®—","å","é¡§"],
["ç‰","æ—","è—¥","å§‘","å¨˜"],["é¤Š","ä»™","å³","èºº","é¬§"],["å—","æ¡‚","ç ","æ£","æ“"],
["å¤œ","é‹","æ‹›","æ—…","è¡Œ"]
];

let day = Number(localStorage.getItem("todayIndex") || 0);
if(day<0) day=0;
if(day>=days.length) day=days.length-1;

function render(){
  document.getElementById("dayText").textContent = `Day ${day+1}`;
  document.getElementById("animal").textContent = animals[day % animals.length];

  const charsDiv = document.getElementById("chars");
  charsDiv.innerHTML="";
  days[day].forEach(c=>{
    const d=document.createElement("div");
    d.className="char";
    d.textContent=c;
    charsDiv.appendChild(d);
  });

  const doneBox=document.getElementById("doneBox");
  doneBox.checked = localStorage.getItem("done_"+day)==="1";
  doneBox.onchange=()=>{
    if(doneBox.checked){
      localStorage.setItem("done_"+day,"1");
      celebrate();
    }else{
      localStorage.removeItem("done_"+day);
    }
    updateProgress();
  };

  updateProgress();
}

function prevDay(){ if(day>0){ day--; localStorage.setItem("todayIndex",day); render(); } }
function nextDay(){ if(day<days.length-1){ day++; localStorage.setItem("todayIndex",day); render(); } }

function updateProgress(){
  let done=0;
  days.forEach((_,i)=>{
    if(localStorage.getItem("done_"+i)==="1") done++;
  });
  document.getElementById("progressText").textContent =
    `é€²åº¦ï¼š${done} / ${days.length} å¤©`;
  document.getElementById("bar").style.width =
    (done/days.length*100)+"%";
}

function celebrate(){
  const box=document.getElementById("confetti");
  for(let i=0;i<40;i++){
    const s=document.createElement("span");
    s.textContent=["ğŸ‰","âœ¨","ğŸ’™","â­","ğŸˆ"][Math.floor(Math.random()*5)];
    s.style.left=Math.random()*100+"vw";
    s.style.animationDuration=(1+Math.random())+"s";
    box.appendChild(s);
    setTimeout(()=>s.remove(),1800);
  }
}

render();
</script>
</body>
</html>
